import{I as Ve,g as Ae,a as Me,i as We,b as xe,c as Te,j as ze,w as Be,d as je}from"../chunks/Icon.Gf9fFoz2.js";import{s as se,L as Z,U as ue,K as Pe,P as Ce,Q as Ue,R as qe,e as p,t as w,a as j,c as _,b as m,d as b,f as u,g as N,p as $,i as de,h as i,j as C,n as Ne,u as pe,V as Ge,k as be,W as Oe,o as He,X as Re}from"../chunks/scheduler.uCYiwJ0C.js";import{S as ne,i as ae,b as U,d as X,m as q,a as S,t as V,e as F,g as Fe,c as Le}from"../chunks/index.i2CHnZJy.js";const Je=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ke(r){let t;const s=r[2].default,e=Pe(s,r,r[3],null);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,a){e&&e.m(n,a),t=!0},p(n,a){e&&e.p&&(!t||a&8)&&Ce(e,s,n,n[3],t?qe(s,n[3],a,null):Ue(n[3]),null)},i(n){t||(S(e,n),t=!0)},o(n){V(e,n),t=!1},d(n){e&&e.d(n)}}}function Qe(r){let t,s;const e=[{name:"arrow-narrow-up"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Ke]},$$scope:{ctx:r}};for(let a=0;a<e.length;a+=1)n=Z(n,e[a]);return t=new Ve({props:n}),{c(){U(t.$$.fragment)},l(a){X(t.$$.fragment,a)},m(a,l){q(t,a,l),s=!0},p(a,[l]){const c=l&3?Ae(e,[e[0],l&2&&Me(a[1]),l&1&&{iconNode:a[0]}]):{};l&8&&(c.$$scope={dirty:l,ctx:a}),t.$set(c)},i(a){s||(S(t.$$.fragment,a),s=!0)},o(a){V(t.$$.fragment,a),s=!1},d(a){F(t,a)}}}function Xe(r,t,s){let{$$slots:e={},$$scope:n}=t;const a=[["path",{d:"M12 5l0 14"}],["path",{d:"M16 9l-4 -4"}],["path",{d:"M8 9l4 -4"}]];return r.$$set=l=>{s(1,t=Z(Z({},t),ue(l))),"$$scope"in l&&s(3,n=l.$$scope)},t=ue(t),[a,t,e,n]}class Ze extends ne{constructor(t){super(),ae(this,t,Xe,Qe,se,{})}}const Ye=Ze;function et(r){let t;const s=r[2].default,e=Pe(s,r,r[3],null);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,a){e&&e.m(n,a),t=!0},p(n,a){e&&e.p&&(!t||a&8)&&Ce(e,s,n,n[3],t?qe(s,n[3],a,null):Ue(n[3]),null)},i(n){t||(S(e,n),t=!0)},o(n){V(e,n),t=!1},d(n){e&&e.d(n)}}}function tt(r){let t,s;const e=[{name:"wind"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[et]},$$scope:{ctx:r}};for(let a=0;a<e.length;a+=1)n=Z(n,e[a]);return t=new Ve({props:n}),{c(){U(t.$$.fragment)},l(a){X(t.$$.fragment,a)},m(a,l){q(t,a,l),s=!0},p(a,[l]){const c=l&3?Ae(e,[e[0],l&2&&Me(a[1]),l&1&&{iconNode:a[0]}]):{};l&8&&(c.$$scope={dirty:l,ctx:a}),t.$set(c)},i(a){s||(S(t.$$.fragment,a),s=!0)},o(a){V(t.$$.fragment,a),s=!1},d(a){F(t,a)}}}function st(r,t,s){let{$$slots:e={},$$scope:n}=t;const a=[["path",{d:"M5 8h8.5a2.5 2.5 0 1 0 -2.34 -3.24"}],["path",{d:"M3 12h15.5a2.5 2.5 0 1 1 -2.34 3.24"}],["path",{d:"M4 16h5.5a2.5 2.5 0 1 1 -2.34 3.24"}]];return r.$$set=l=>{s(1,t=Z(Z({},t),ue(l))),"$$scope"in l&&s(3,n=l.$$scope)},t=ue(t),[a,t,e,n]}class nt extends ne{constructor(t){super(),ae(this,t,st,tt,se,{})}}const we=async(r,t,s)=>{try{return await(await s(r,{method:t,credentials:"include"})).json()}catch(e){console.error(e)}};async function at({fetch:r}){const t=await we("/api/auth/status","GET",r),s=await we("/api/background/getBackground","GET",r),e=await we("/api/widgets/jokes","GET",r);t.success&&We.set(t.success),s.success&&(xe.set(s==null?void 0:s.backgrounds),Te.set(s==null?void 0:s.currentBackground)),e.success&&ze.set(e.joke)}const ht=Object.freeze(Object.defineProperty({__proto__:null,load:at},Symbol.toStringTag,{value:"Module"}));function rt(r){let t,s,e,n,a,l,c,f,o,y,E,k,L=r[3]()+"",W;return{c(){t=p("div"),s=p("div"),e=p("div"),n=w(r[0]),a=w(`
		:
		`),l=p("div"),c=w(r[1]),f=w(`
		:
		`),o=p("div"),y=w(r[2]),E=j(),k=p("div"),W=w(L),this.h()},l(h){t=_(h,"DIV",{class:!0});var g=m(t);s=_(g,"DIV",{class:!0});var I=m(s);e=_(I,"DIV",{class:!0});var M=m(e);n=b(M,r[0]),M.forEach(u),a=b(I,`
		:
		`),l=_(I,"DIV",{class:!0});var x=m(l);c=b(x,r[1]),x.forEach(u),f=b(I,`
		:
		`),o=_(I,"DIV",{class:!0});var G=m(o);y=b(G,r[2]),G.forEach(u),I.forEach(u),E=N(g),k=_(g,"DIV",{class:!0});var O=m(k);W=b(O,L),O.forEach(u),g.forEach(u),this.h()},h(){$(e,"class","h-full w-1/4 flex items-center justify-center"),$(l,"class","h-full w-1/4 flex items-center justify-center"),$(o,"class","h-full w-1/4 flex items-center justify-center"),$(s,"class","flex justify-evenly items-center w-11/12 h-3/4"),$(k,"class","h-1/4 w-full flex justify-center items-center text-2xl"),$(t,"class","variant-glass-surface rounded-md p-2 absolute h-1/5 w-1/4 top-1/2 right-1/2 translate-x-1/2 -translate-y-1/2 shadow-md card flex flex-col items-center text-8xl transition-all svelte-1fx3jd8")},m(h,g){de(h,t,g),i(t,s),i(s,e),i(e,n),i(s,a),i(s,l),i(l,c),i(s,f),i(s,o),i(o,y),i(t,E),i(t,k),i(k,W)},p(h,[g]){g&1&&C(n,h[0]),g&2&&C(c,h[1]),g&4&&C(y,h[2])},i:Ne,o:Ne,d(h){h&&u(t)}}}function lt(r,t,s){const e=o=>o<10?`0${o}`:o;let n,a,l;const c=()=>{const o=new Date;s(0,n=e(o.getHours())),s(1,a=e(o.getMinutes())),s(2,l=e(o.getSeconds()))},f=()=>{const o=new Date,y="SUN MON TUE WED THU FRI SAT".split(" ")[o.getDay()],E=o.getDate();return`${y}, ${E}`};return c(),setInterval(c,1e3),[n,a,l,f]}class ot extends ne{constructor(t){super(),ae(this,t,lt,rt,se,{})}}function ct(r){let t,s,e,n=r[0].city_full+"",a,l,c,f,o,y,E,k=r[0].description+"",L,W,h,g,I,M=r[0].feels_like+"",x,G,O,D,z,_e,H,Y=r[0].wind_speed+"",re,me,he,T,ge,P,R,ee=r[0].temp+"",le,ve,J,Ee="°C",A;var K=r[0].icon;function ke(d,v){return{props:{size:50}}}return K&&(o=pe(K,ke())),z=new nt({}),T=new Ye({props:{style:"transform: rotate("+r[0].wind_deg+"deg);"}}),{c(){t=p("div"),s=p("div"),e=p("div"),a=w(n),l=j(),c=p("div"),f=p("span"),o&&U(o.$$.fragment),y=j(),E=p("span"),L=w(k),W=j(),h=p("div"),g=p("span"),I=w("feel's Like: "),x=w(M),G=w("°C"),O=j(),D=p("span"),U(z.$$.fragment),_e=j(),H=p("span"),re=w(Y),me=w("km/h"),he=j(),U(T.$$.fragment),ge=j(),P=p("div"),R=p("span"),le=w(ee),ve=j(),J=p("span"),J.textContent=Ee,this.h()},l(d){t=_(d,"DIV",{class:!0});var v=m(t);s=_(v,"DIV",{class:!0});var B=m(s);e=_(B,"DIV",{class:!0});var te=m(e);a=b(te,n),te.forEach(u),l=N(B),c=_(B,"DIV",{class:!0});var oe=m(c);f=_(oe,"SPAN",{});var ye=m(f);o&&X(o.$$.fragment,ye),ye.forEach(u),y=N(oe),E=_(oe,"SPAN",{class:!0});var Ie=m(E);L=b(Ie,k),Ie.forEach(u),oe.forEach(u),B.forEach(u),W=N(v),h=_(v,"DIV",{class:!0});var ce=m(h);g=_(ce,"SPAN",{});var ie=m(g);I=b(ie,"feel's Like: "),x=b(ie,M),G=b(ie,"°C"),ie.forEach(u),O=N(ce),D=_(ce,"SPAN",{class:!0});var Q=m(D);X(z.$$.fragment,Q),_e=N(Q),H=_(Q,"SPAN",{});var $e=m(H);re=b($e,Y),me=b($e,"km/h"),$e.forEach(u),he=N(Q),X(T.$$.fragment,Q),Q.forEach(u),ce.forEach(u),ge=N(v),P=_(v,"DIV",{class:!0});var fe=m(P);R=_(fe,"SPAN",{class:!0});var De=m(R);le=b(De,ee),De.forEach(u),ve=N(fe),J=_(fe,"SPAN",{"data-svelte-h":!0}),Ge(J)!=="svelte-sl7ktq"&&(J.textContent=Ee),fe.forEach(u),v.forEach(u),this.h()},h(){$(e,"class","w-full text-xl h-1/4"),$(E,"class","text-2xl font-bold m-2"),$(c,"class","w-full text-xl flex items-end h-3/4"),$(s,"class","col-span-2"),$(D,"class","flex gap-2"),$(h,"class","p-2 flex flex-col justify-evenly"),$(R,"class","text-7xl"),$(P,"class","flex justify-center items-start p-2"),$(t,"class","variant-glass-surface rounded-md p-2 absolute h-1/5 w-1/5 top-1/2 right-1/2 translate-x-1/2 -translate-y-1/2 grid grid-col-2 grid-rows-2 gap-4 shadow-md card svelte-qe5aqa")},m(d,v){de(d,t,v),i(t,s),i(s,e),i(e,a),i(s,l),i(s,c),i(c,f),o&&q(o,f,null),i(c,y),i(c,E),i(E,L),i(t,W),i(t,h),i(h,g),i(g,I),i(g,x),i(g,G),i(h,O),i(h,D),q(z,D,null),i(D,_e),i(D,H),i(H,re),i(H,me),i(D,he),q(T,D,null),i(t,ge),i(t,P),i(P,R),i(R,le),i(P,ve),i(P,J),A=!0},p(d,[v]){if((!A||v&1)&&n!==(n=d[0].city_full+"")&&C(a,n),v&1&&K!==(K=d[0].icon)){if(o){Fe();const te=o;V(te.$$.fragment,1,0,()=>{F(te,1)}),Le()}K?(o=pe(K,ke()),U(o.$$.fragment),S(o.$$.fragment,1),q(o,f,null)):o=null}(!A||v&1)&&k!==(k=d[0].description+"")&&C(L,k),(!A||v&1)&&M!==(M=d[0].feels_like+"")&&C(x,M),(!A||v&1)&&Y!==(Y=d[0].wind_speed+"")&&C(re,Y);const B={};v&1&&(B.style="transform: rotate("+d[0].wind_deg+"deg);"),T.$set(B),(!A||v&1)&&ee!==(ee=d[0].temp+"")&&C(le,ee)},i(d){A||(o&&S(o.$$.fragment,d),S(z.$$.fragment,d),S(T.$$.fragment,d),A=!0)},o(d){o&&V(o.$$.fragment,d),V(z.$$.fragment,d),V(T.$$.fragment,d),A=!1},d(d){d&&u(t),o&&F(o),F(z),F(T)}}}function it(r,t,s){let e;return be(r,Be,n=>s(0,e=n)),[e]}class ft extends ne{constructor(t){super(),ae(this,t,it,ct,se,{})}}const{document:Se}=Je;function ut(r){let t,s,e,n;var a=r[0];function l(c,f){return{}}return a&&(e=pe(a,l())),{c(){t=j(),s=p("div"),e&&U(e.$$.fragment),this.h()},l(c){Oe("svelte-ty9swr",Se.head).forEach(u),t=N(c),s=_(c,"DIV",{class:!0});var o=m(s);e&&X(e.$$.fragment,o),o.forEach(u),this.h()},h(){Se.title="ZenFlow",$(s,"class","static h-full w-full")},m(c,f){de(c,t,f),de(c,s,f),e&&q(e,s,null),n=!0},p(c,[f]){if(f&1&&a!==(a=c[0])){if(e){Fe();const o=e;V(o.$$.fragment,1,0,()=>{F(o,1)}),Le()}a?(e=pe(a,l()),U(e.$$.fragment),S(e.$$.fragment,1),q(e,s,null)):e=null}},i(c){n||(e&&S(e.$$.fragment,c),n=!0)},o(c){e&&V(e.$$.fragment,c),n=!1},d(c){c&&(u(t),u(s)),e&&F(e)}}}function dt(r,t,s){let e,n;be(r,je,f=>s(2,e=f)),be(r,Te,f=>s(3,n=f));let a=!1,l;const c=()=>{n?document.body.style.backgroundImage=`url(${n})`:n===""&&(document.body.style.backgroundImage="none"),document.body.style.backgroundSize="cover"};return He(()=>{s(1,a=!0),c(),document.addEventListener("keydown",f=>{f.key==="Escape"&&Re(je,e=-1,e)})}),r.$$.update=()=>{if(r.$$.dirty&10&&a&&(n||n==="")&&c(),r.$$.dirty&4)switch(e){case 0:s(0,l=ft);break;case 1:s(0,l=ot);break;default:s(0,l="")}},[l,a,e,n]}class gt extends ne{constructor(t){super(),ae(this,t,dt,ut,se,{})}}export{gt as component,ht as universal};
